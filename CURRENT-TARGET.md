# 项目定位
MagicTowerInfinite 是一款“数值 + 机制博弈”为核心的 Roguelike 回合制爬塔冒险原型。
旨在验证：经典魔塔式推进（关卡/楼层压力）与回合制数值对抗，在引入可控随机机制后，是否能在低系统复杂度下形成更强的策略与复玩驱动。本阶段产出以可运行的 Demo 为准，不追求美术与叙事完整度。

# 核心玩法假设

- 在 1v1 回合制框架中加入随机事件（暴击/格挡等），能否在不显著破坏可预期性的前提下提升决策张力与“赌/控”的乐趣。
- 在数值设计经验有限的条件下，能否用少量变量构建合理的挑战曲线（可打、可输、可复盘）。
- 随机性应服务策略而非替代策略：即玩家可通过属性选择对随机结果的方差进行“收敛”，稳定通关体验。

# 战斗系统设计（最小闭环）

- 战斗循环：进入每层强制触发 1v1；
- 根据速度决定先手；
- 双方轮流攻击并按公式结算；
- 任一方 HP 归零即结束。玩家失败则本局结束；
- 击败敌人进入下一层；
- 暂定到第 13 层视为通关。

- 属性集合：HP / ATK / DEF / SPD / Crit / AntiCrit / Block / Penetration。

- 伤害模型：
    - FinalCrit = Crit − AntiCrit；FinalBlock = Block − Penetration（下限为 0）。
    - Damage = (ATK − DEF) × CritMul × BlockMul；其中 CritMul ∈ {1,2} 按 FinalCrit 随机，BlockMul ∈ {1,0} 按 FinalBlock 随机。

- 设计原则：胜利后给予玩家属性增益选择，并贯穿当局；敌方属性随层数递增；怪物类型控制在 3–5 种，通过基础值与成长差异构建对策空间；Week 1 不引入额外机制与额外公式，确保变量可控、便于验证。

# Week 1 验证目标（可度量）

1. 可开始/结束一局完整流程；
2. 战斗闭环可稳定运行（先手、轮转、结算、胜负）；
3. 战斗日志与结算信息在游戏内可追溯展示（便于复盘与调参）。

# 后续扩展方向（非本周范围）
- 地图推进与事件选择
- 属性/装备/技能扩展
- 随机事件与分支
- UI与反馈强化
- 基础叙事框架与敌人丰富化。